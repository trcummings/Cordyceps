{"version":3,"sources":["webpack:///webpack/bootstrap 5feaf8a27328bdc24cae","webpack:///./lib/cordycepsGame.js","webpack:///./lib/game.js","webpack:///./lib/player.js","webpack:///./lib/util.js","webpack:///./lib/camera.js","webpack:///./lib/tempWorld.js","webpack:///./lib/gameView.js","webpack:///./lib/objects/box.js","webpack:///./lib/objects/trigger.js","webpack:///./lib/objects/textOverlay.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAC;;;;;;;ACZD;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,qEAAoE;AACpE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB,UAAU;AAC3B;AACA;AACA;AACA,eAAc,uBAAuB;AACrC,eAAc,uBAAuB;AACrC,eAAc;AACd,MAAK;AACL;AACA;;AAEA;AACA,kBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;;AAEA,kBAAiB,6BAA6B;AAC9C;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9LA;AACA;;AAEA;AACA,eAAc;AACd;AACA;AACA;AACA,oBAAmB;;AAEnB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,IAAG;AACH;;AAEA,IAAG;AACH;AACA;;AAEA,IAAG;AACH;AACA;AACA;;AAEA;;;;;;;ACpIA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;ACzCA;;AAEA;AACA;AACA,gBAAe,+BAA+B;AAC9C,gBAAe,+BAA+B;AAC9C,gBAAe,cAAc;AAC7B,wBAAuB;AACvB,uBAAsB;AACtB,kBAAiB,cAAc;;AAE/B;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C,qBAAoB;AACpB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2EAA0E;AAC1E,IAAG;AACH;AACA;AACA,uDAAsD;;AAEtD;AACA,0DAAyD;AACzD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5EA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,eAAe;AAC3B,aAAY,eAAe;AAC3B,aAAY,cAAc;AAC1B;AACA;AACA,IAAG;;AAEH;AACA;AACA,aAAY,6BAA6B;AACzC,aAAY,6BAA6B;AACzC,aAAY,cAAc;AAC1B;AACA;AACA,IAAG;;AAEH;AACA;AACA,aAAY,eAAe;AAC3B,aAAY,eAAe;AAC3B,aAAY,cAAc;AAC1B;AACA;AACA,IAAG;;AAEH;AACA;AACA,aAAY,8BAA8B;AAC1C,aAAY,8BAA8B;AAC1C,aAAY,cAAc;AAC1B;AACA;AACA,IAAG;;AAEH;AACA;AACA,aAAY,gCAAgC;AAC5C,aAAY,gCAAgC;AAC5C,aAAY,cAAc;AAC1B;AACA;AACA,IAAG;;AAEH,kBAAiB,UAAU;AAC3B;AACA,eAAc,uCAAuC;AACrD,eAAc,wCAAwC;AACtD,eAAc,cAAc;AAC5B;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA,aAAY,gCAAgC;AAC5C,aAAY,gCAAgC;AAC5C,aAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,aAAY,iCAAiC;AAC7C,aAAY,iCAAiC;AAC7C,aAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,IAAG;;AAEH;AACA,aAAY,iCAAiC;AAC7C,aAAY,iCAAiC;AAC7C,aAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,IAAG;;AAEH;AACA,aAAY,mCAAmC;AAC/C,aAAY,mCAAmC;AAC/C,aAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,IAAG;AACH;;AAEA;;;;;;;AC1IA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9DA;AACA,kBAAiB,wCAAwC;AACzD,kBAAiB;AACjB,kBAAiB;AACjB;AACA;AACA;;AAEA;;;;;;;ACRA;AACA,kBAAiB,wCAAwC;AACzD,kBAAiB;AACjB,kBAAiB;AACjB;AACA;AACA;AACA;;AAEA;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 5feaf8a27328bdc24cae\n **/","var Game = require(\"./game\");\nvar GameView = require(\"./gameView\");\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  var canvas = document.getElementById(\"canvas\");\n  var context = canvas.getContext('2d');\n\n  canvas.width = 3 * document.body.clientWidth / 4;\n  canvas.height = 3 * document.body.clientHeight / 4;\n\n  var game = new Game(context);\n  new GameView(game, context).start();\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/cordycepsGame.js\n ** module id = 0\n ** module chunks = 0\n **/","var Player = require('./player.js');\nvar Camera = require('./camera.js');\nvar Util = require('./util.js');\nvar TempWorld = require('./tempWorld.js');\nvar canvas = document.getElementById(\"canvas\");\nvar Trigger = require('./objects/trigger');\n\n\nvar Game = function (context) {\n  this.context = context;\n  this.world = new TempWorld(this);\n  this.height = this.world.height;\n  this.width = this.world.width;\n  this.camera = new Camera(canvas.height, canvas.width, this.world); //replace these values\n  this.player = new Player(context, 50, this.world.height - 50);\n  this.entities = [];\n\n  this.initiateEntities();\n};\n\nGame.prototype.step = function() {\n  this.moveObjects();\n  this.checkAllCollisions();\n  this.render();\n};\n\nGame.prototype.moveObjects = function () {\n  this.camera.move(this.player);\n  this.player.move();\n};\n\nGame.prototype.render = function() {\n  this.clearBlack();\n\n  // draw this.player with corrected positions\n  var playerX = this.player.pos.x - this.camera.cpos.x;\n  var playerY = this.player.pos.y - this.camera.cpos.y;\n  this.player.render(playerX, playerY);\n\n  this.drawBoxes();\n  this.drawEntities();\n  this.drawOverlays();\n};\n\nGame.prototype.clearBlack = function () {\n  var canvas = document.getElementById(\"canvas\");\n  var context = this.context;\n  var camera = this.camera;\n\n  context.beginPath();\n  if (camera.height < canvas.height) {\n    // context.fillStyle = \"white\";\n    // context.fillRect(0, 0, canvas.width, canvas.height - camera.height);\n    // context.fillStyle = \"black\";\n    // context.fillRect(0, canvas.height - camera.height, canvas.width, camera.height);\n    // context.fillStyle = \"white\";\n    // context.fillRect(0, camera.height, canvas.width, window.innerHeight);\n  } else {\n    var grad = context.createLinearGradient(0, 0, this.player.pos.x/3, 0);\n      grad.addColorStop(0, \"white\");\n      grad.addColorStop(0.5, \"red\");\n      grad.addColorStop(1, \"black\");\n    context.fillStyle = grad;\n    context.fillRect(0, 0, canvas.width, canvas.height);\n  }\n};\n\nGame.prototype.initiateEntities = function () {\n  for (var i = 0; i < 2000; i++) {\n    var randx = Math.random() * 6 * this.width;\n    var randy = Math.random() * 6 * this.height;\n    this.entities.push({\n      cpos : { x : randx, y : randy },\n      ppos : { x : randx, y : randy },\n      acel : { x: 0, y : 0 }\n    });\n  }\n};\n\nGame.prototype.drawEntities = function () {\n  for (var i = 0; i < this.entities.length; i++) {\n    var entity = this.entities[i];\n    var entityX = entity.cpos.x - this.camera.cpos.x;\n    var entityY = entity.cpos.y - this.camera.cpos.y;\n    if ((entityX >= this.camera.cullDistX.left && entityX <= this.camera.cullDistX.right) &&\n        (entityY >= this.camera.cullDistY.top && entityY <= this.camera.cullDistY.bottom) ) {\n      this.context.beginPath();\n      this.context.fillStyle=\"gold\";\n      this.context.arc(entityX,entityY, 10, 0, 2*Math.PI, false);\n      this.context.fill();\n    }\n  }\n};\n\nGame.prototype.drawBoxes = function () {\n  for (var i = 0; i < this.world.boxes.length; i++) {\n    var box = this.world.boxes[i];\n    var boxX = box.cpos.x - this.camera.cpos.x;\n    var boxY = box.cpos.y - this.camera.cpos.y;\n    // if ((boxX >= this.camera.cullDistX.left && boxX <= this.camera.cullDistX.right) &&\n        // (boxY >= this.camera.cullDistY.top && boxY <= this.camera.cullDistY.bottom) ) {\n      this.context.fillStyle = \"green\";\n      this.context.beginPath();\n      this.context.fillRect(boxX, boxY, box.width, box.height);\n    // }\n  }\n};\n\nGame.prototype.drawOverlays = function () {\n  var overlays = this.world.textOverlays;\n\n  if (overlays.length > 0) {\n    // debugger;\n    overlays.forEach(function (overlay, index) {\n      if (index === 0) {\n        overlay.draw(this.context, this.camera.width/10, 2*this.camera.height/3);\n      } else if (overlays[index - 1] && (overlays[index - 1].message !== overlay.message)) {\n        overlay.draw(this.context, this.camera.width/10 + index*50, 2*this.camera.height/3);\n        if (overlay.alpha < 0) {\n          overlays.splice(index, 1);\n        }\n      }\n      // overlay.draw(this.context, this.player.pos.x, this.player.pos.y - 45);\n    }.bind(this));\n  }\n};\n\nGame.prototype.checkAllCollisions = function () {\n  this.player.grounded = false;\n\n  for (var i = 0; i < this.world.boxes.length; i++) {\n    var box = this.world.boxes[i];\n\n    var dir = this.collisionCheck(this.player, box);\n\n    this.player.collision(box, dir);\n  }\n\n  this.world.triggers.forEach(function (trigger) {\n    dir = this.collisionCheck(this.player, trigger);\n    if (dir) {\n      trigger.activate();\n    }\n  }.bind(this));\n};\n\n\nGame.prototype.collisionCheck = function (player, obj2) {\n    // get the vectors to check against\n    var vX = (player.pos.x + (player.width / 2)) - (obj2.cpos.x + (obj2.width / 2)),\n        vY = (player.pos.y + (player.height / 2)) - (obj2.cpos.y + (obj2.height / 2)),\n        // add the half widths and half heights of the objects\n        halfWidths = (player.width / 2) + (obj2.width / 2),\n        halfHeights = (player.height / 2) + (obj2.height / 2),\n        colDir = null;\n\n    // if the x and y vector are less than the half width or half height, then we must be inside the object, causing a collision\n    if (Math.abs(vX) < halfWidths && Math.abs(vY) < halfHeights) {\n        // figures out on which side we are colliding (top, bottom, left, or right)\n        var oX = halfWidths - Math.abs(vX),\n            oY = halfHeights - Math.abs(vY),\n            bumpValue;\n\n        if (obj2 instanceof Trigger) {\n          bumpValue = 0;\n        } else {\n          bumpValue = 1;\n        }\n\n        if (oX >= oY) {\n          if (vY > 0) {\n            colDir = \"t\";\n            player.pos.y += oY * bumpValue;\n          } else {\n            colDir = \"b\";\n            player.pos.y -= oY * bumpValue;\n          }\n        } else {\n          if (vX > 0) {\n            colDir = \"l\";\n            player.pos.x += oX * bumpValue;\n          } else {\n            colDir = \"r\";\n            player.pos.x -= oX * bumpValue;\n          }\n        }\n    }\n    return colDir;\n};\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game.js\n ** module id = 1\n ** module chunks = 0\n **/","var Util = require('./util.js');\nvar Box = require('./objects/box');\n\nvar Player = function (context, startX, startY) {\n  this.pos = { x: startX, y: startY };\n  this.context = context;\n  this.height = 20;\n  this.width = 20;\n  this.velocity = { x: 0, y: 0 };\n\n  this.grounded = false;\n  this.jumping = false;\n  this.facing = \"r\";\n\n  var image = new Image();\n  image.src = 'http://www.learnjquery.org/newsletter/sonic.png';\n\n  this.sprite = {\n    img: image,\n    frameIdx: 0,\n    numFrames: 8,\n    height: 100,\n    width: 800\n  };\n};\n\nPlayer.prototype.render = function (xPos, yPos) {\n  // img\tSource image object\tSprite sheet\n  // sx\tSource x\tFrame index times frame width\n  // sy\tSource y\t0\n  // sw\tSource width\tFrame width\n  // sh\tSource height\tFrame height\n  // dx\tDestination x\t0\n  // dy\tDestination y\t0\n  // dw\tDestination width\tFrame width\n  // dh\tDestination height\tFrame height\n  // debugger;\n\n  if (this.facing == \"r\") {\n    this.sprite.img.src = 'lib/sprites/spriteImages.js/sonic-sprite-right.png';\n  } else {\n    this.sprite.img.src = 'lib/sprites/spriteImages.js/sonic-sprite-left.png';\n  }\n\n  if(!this.interval) {\n    this.interval = window.setInterval(function () {\n      if (!this.jumping && (this.velocity.x > 5 || this.velocity.x < -5)) {\n        if (this.sprite.frameIdx === this.sprite.numFrames - 1) {\n          this.sprite.frameIdx = 0;\n        }\n        this.sprite.frameIdx++;\n      } else {\n        this.sprite.frameIdx = 7;\n      }\n    }.bind(this), 80);\n  }\n\n  this.context.drawImage(\n    this.sprite.img,\n    this.sprite.frameIdx * this.sprite.width / this.sprite.numFrames,\n    0,\n    this.sprite.width / this.sprite.numFrames,\n    this.sprite.height,\n    xPos - this.width - 5,\n    yPos - this.sprite.height + this.height + 10,\n    this.sprite.width / this.sprite.numFrames,\n    this.sprite.height\n  );\n\n};\n\nPlayer.prototype.impulse = function (dir) {\n  if (dir > 0) {\n    this.facing = \"r\";\n    this.velocity.x++;\n\n  } else if (dir < 0) {\n    this.facing = \"l\";\n    this.velocity.x--;\n  }\n};\n\nPlayer.prototype.jump = function () {\n  if (!this.jumping && this.grounded) {\n      this.jumping = true;\n      this.grounded = false;\n      this.velocity.y = -25;\n  }\n};\n\nPlayer.prototype.move = function () {\n\n  if(this.grounded) {\n    this.velocity.y = 0;\n  }\n\n  this.pos.x += this.velocity.x;\n  this.pos.y += this.velocity.y;\n\n  // friction\n  this.velocity.x *= 0.90;\n\n  // gravity\n  this.velocity.y += 0.80;\n};\n\nPlayer.prototype.collision = function (object, dir) {\n\n  if(object instanceof Box) {\n    this.boxCollision(dir);\n  } else {\n    console.log(\"hit a trigger\");\n  }\n};\n\nPlayer.prototype.boxCollision = function (dir) {\n\n  if (dir === \"l\") {\n    this.velocity.x = 0;\n\n  } else if (dir === \"r\") {\n    this.velocity.x = 0;\n\n  } else if (dir === \"b\") {\n    this.grounded = true;\n    this.jumping = false;\n\n  } else if (dir === \"t\") {\n    this.velocity.y *= -1;\n  }\n};\n\nmodule.exports = Player;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/player.js\n ** module id = 2\n ** module chunks = 0\n **/","var Util = {\n  inherits: function (ChildClass, ParentClass) {\n    var Surrogate = function () {};\n    Surrogate.prototype = ParentClass.prototype;\n    ChildClass.prototype = new Surrogate();\n    ChildClass.prototype.constructor = ChildClass;\n  },\n\n  dist: function (pos1, pos2) {\n    return Math.sqrt(\n      Math.pow(pos1[0] - pos2[0], 2) + Math.pow(pos1[1] - pos2[1], 2)\n    );\n  },\n\n  scale: function (vector, magnitude) {\n    return [vector[0] * magnitude, vector[1] * magnitude];\n  },\n\n  verletTransform: function (obj) {\n    obj.cpos.x += obj.acel.x * 0.256;\n    obj.cpos.y += obj.acel.y * 0.256;\n\n    var dx = 2 * obj.cpos.x - obj.ppos.x;\n    var dy = 2 * obj.cpos.y - obj.ppos.y;\n    \n    obj.ppos.x = obj.cpos.x;\n    obj.ppos.y = obj.cpos.y;\n\n    obj.cpos.x = dx;\n    obj.cpos.y = dy;\n\n    obj.acel.x = 0;\n    obj.acel.y = 0;\n  }\n  //\n  // vectorAngle: function(vector, objectPos) {\n  //   var hypotenuse = Math.sqrt(Math.pow(vector[0], 2) + Math.pow(vector[1], 2));\n  // }\n};\n\n\nmodule.exports = Util;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/util.js\n ** module id = 3\n ** module chunks = 0\n **/","var Util = require('./util.js');\n\nvar Camera = function (height, width, world) {\n  this.world = world;\n  this.cpos = { x: 50, y: world.height - 50 }; // \"current pos\" top left corner of camera object\n  this.ppos = { x: 50, y: world.height - 50 }; // \"past pos\"\n  this.acel = { x: 0, y: 0 }; // acceleration of camera object\n  this.height = height; // camera height\n  this.width  = width; // camera width\n  this.target = { x: 0, y: 0 }; // target position\n\n  // for drawing camera and binding it to world space\n  this.maxHeight = this.world.height;\n  this.maxWidth = this.world.width;\n  this.cullDistX = {left: 0, right: width};  // \"cull\" distance. or, objects this far away from cam not rendered\n  this.cullDistY = {top: 0, bottom: height};\n  this.bound = true;\n\n  // for screenshake\n  this.strength = 0;\n  this.damper = 0;\n};\n\nCamera.prototype.squashCamera = function() {\n  this.height -= 10;\n  this.cullDistY.top += 10;\n  this.cullDistY.bottom -= 10;\n};\n\nCamera.prototype.screenShake = function() {\n  this.strength = 90;\n  this.damper = 5;\n};\n\nCamera.prototype.move = function (targetObj) {\n  // get the target point\n  if (targetObj.facing === \"r\") {\n    this.target.x = targetObj.pos.x + (this.width / 3) - (this.width / 2); //sets target x to center of screen relative to player\n  } else {\n    this.target.x = targetObj.pos.x - (this.width / 3) - (this.width / 2);\n  }\n  this.target.y = targetObj.pos.y - (this.height / 2); // same but with y\n\n  // move camera towards target point\n  this.acel.x += (1 / 8) * (this.target.x - this.cpos.x); // acceleration vector\n  this.acel.y += (1 / 8) * (this.target.y - this.cpos.y);\n\n  // camera shake update\n  if (this.strength > 0) {\n    var randx = Math.random() * 2 * this.strength - this.strength;\n    var randy = Math.random() * 2 * this.strength - this.strength;\n    this.acel.x += randx;\n    this.acel.y += randy;\n    this.strength -= this.damper;\n  }\n\n  // camera drag\n  this.ppos.x = this.cpos.x + (this.ppos.x - this.cpos.x) * 0.3;\n  this.ppos.y = this.cpos.y + (this.ppos.y - this.cpos.y) * 0.3;\n\n  // camera verlet\n  Util.verletTransform(this);\n\n  // bind camera to world edges\n  if (this.bound) {\n\n    // flush camera -- x bounds\n    this.cpos.x = Math.min(this.cpos.x, this.maxWidth - this.width);\n    this.cpos.x = Math.max(this.cpos.x, 0);\n\n    // flush camera -- y bounds\n    this.cpos.y = Math.min(this.cpos.y, this.maxHeight - this.height);\n    this.cpos.y = Math.max(this.cpos.y, 0);\n  }\n};\n\nmodule.exports = Camera;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/camera.js\n ** module id = 4\n ** module chunks = 0\n **/","var Box = require('./objects/box');\nvar Trigger = require('./objects/trigger');\nvar Player = require('./player.js');\nvar Camera = require('./camera.js');\nvar TextOverlay = require('./objects/textOverlay');\n\nvar TempWorld = function (game) {\n  this.game = game;\n  this.height = 2000;\n  this.width = 6000;\n  this.boxes = [];\n  this.triggers = [];\n  this.textOverlays = [];\n\n  this.initiateBoxes();\n  this.initiateTriggers();\n};\n\nTempWorld.prototype.initiateBoxes = function () {\n  // left box\n  this.boxes.push(new Box({\n    cpos : { x : 0, y : 0 },\n    ppos : { x : 0, y : 0 },\n    acel : { x: 0, y : 0 },\n    width: 40,\n    height: this.height\n  }));\n\n  // right box\n  this.boxes.push(new Box({\n    cpos : { x : this.width - 10, y : 0 },\n    ppos : { x : this.width - 10, y : 0 },\n    acel : { x: 0, y : 0 },\n    width: 50,\n    height: 6 * this.height\n  }));\n\n  // top box\n  this.boxes.push(new Box({\n    cpos : { x : 0, y : 0 },\n    ppos : { x : 0, y : 0 },\n    acel : { x: 0, y : 0 },\n    width: this.width,\n    height: 40,\n  }));\n\n  // bottom box\n  this.boxes.push(new Box({\n    cpos : { x : 0, y : this.height - 10 },\n    ppos : { x : 0, y : this.height - 10 },\n    acel : { x: 0, y : 0 },\n    width: this.width,\n    height: 40,\n  }));\n\n  // 1st platform\n  this.boxes.push(new Box({\n    cpos : { x : 300, y : this.height - 70 },\n    ppos : { x : 300, y : this.height - 70 },\n    acel : { x: 0, y : 0 },\n    width: 300,\n    height: 10,\n  }));\n\n  for (var i = 0; i < 2000; i+=200) {\n    this.boxes.push(new Box({\n      cpos : { x : 300 + i, y : this.height - 70 - i},\n      ppos : { x : 300 + i, y : this.height - 70 - i },\n      acel : { x: 0, y : 0 },\n      width: 300,\n      height: 10,\n    }));\n  }\n};\n\nTempWorld.prototype.initiateTriggers = function () {\n  var worldContext = this;\n\n  this.triggers.push(new Trigger({\n    cpos : { x : 800, y : this.height - 70 },\n    ppos : { x : 800, y : this.height - 70 },\n    acel : { x: 0, y : 0 },\n    width: 50,\n    height: 50,\n    activate: function () {\n      worldContext.game.camera.screenShake();\n    }\n  }));\n\n  this.triggers.push(new Trigger({\n    cpos : { x : 1200, y : this.height - 70 },\n    ppos : { x : 1200, y : this.height - 70 },\n    acel : { x: 0, y : 0 },\n    width: 50,\n    height: 50,\n    activate: function () {\n      worldContext.textOverlays.push(\n        new TextOverlay({\n          message: \"think about your wife\",\n          fontSize: 24,\n        })\n      );\n    }\n  }));\n\n  this.triggers.push(new Trigger({\n    cpos : { x : 1700, y : this.height - 70 },\n    ppos : { x : 1700, y : this.height - 70 },\n    acel : { x: 0, y : 0 },\n    width: 50,\n    height: 50,\n    activate: function () {\n      worldContext.textOverlays.push(\n        new TextOverlay({\n          message: \"please stop\",\n          fontSize: 24,\n        })\n      );\n    }\n  }));\n\n  this.triggers.push(new Trigger({\n    cpos : { x : 1300, y : this.height - 1070 },\n    ppos : { x : 1300, y : this.height - 1070 },\n    acel : { x: 0, y : 0 },\n    width: 50,\n    height: 50,\n    activate: function () {\n      worldContext.textOverlays.push(\n        new TextOverlay({\n          message: \"hey tony whered you \\ get that fresh peperoney\",\n          fontSize: 24,\n        })\n      );\n    }\n  }));\n};\n\nmodule.exports = TempWorld;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/tempWorld.js\n ** module id = 5\n ** module chunks = 0\n **/","var GameView = function (game, context) {\n  this.context = context;\n  this.game = game;\n  this.inputs = {};\n};\n\nGameView.prototype.start = function () {\n  this.bindKeyHandlers();\n\n  //start the animation\n  requestAnimationFrame(this.animate.bind(this));\n};\n\nGameView.prototype.bindKeyHandlers = function () {\n  document.body.addEventListener(\"keydown\", function(e) {\n    this.inputs[e.keyCode] = true;\n  }.bind(this));\n\n  document.body.addEventListener(\"keyup\", function(e) {\n    this.inputs[e.keyCode] = false;\n  }.bind(this));\n};\n\nGameView.prototype.animate = function() {\n  this.keyCheck();\n  this.game.step();\n  requestAnimationFrame(this.animate.bind(this));\n};\n\nGameView.prototype.keyCheck = function () {\n  // check inputs\n  // jump - w\n  if (this.inputs[87]) {\n    this.game.player.jump();\n  }\n\n  // // down - s\n  // else if (this.inputs[83]) {\n  //   this.game.player.impulse('y', 'pos');\n  // }\n\n  // left - a\n  if (this.inputs[65]) {\n    this.game.player.impulse(-1);\n  }\n\n  // right - d\n  else if (this.inputs[68]) {\n    this.game.player.impulse(1);\n  }\n\n  // shift - screen shake\n  if (this.inputs[16]) {\n    this.game.camera.screenShake();\n  }\n\n  // space - screen squash\n  if (this.inputs[32]) {\n    this.game.camera.squashCamera();\n  }\n};\n\nmodule.exports = GameView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/gameView.js\n ** module id = 6\n ** module chunks = 0\n **/","var Box = function (options) {\n    this.cpos = { x: options.cpos.x, y: options.cpos.y }; //needs x and y\n    this.ppos = { x: options.ppos.x, y: options.ppos.y};\n    this.acel = { x: options.acel.x, y: options.acel.y};\n    this.width = options.width;\n    this.height = options.height;\n};\n\nmodule.exports = Box;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/objects/box.js\n ** module id = 7\n ** module chunks = 0\n **/","var Trigger = function (options) {\n    this.cpos = { x: options.cpos.x, y: options.cpos.y }; //needs x and y\n    this.ppos = { x: options.ppos.x, y: options.ppos.y};\n    this.acel = { x: options.acel.x, y: options.acel.y};\n    this.width = options.width;\n    this.height = options.height;\n    this.activate = options.activate;\n};\n\nmodule.exports = Trigger;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/objects/trigger.js\n ** module id = 8\n ** module chunks = 0\n **/","var TextOverlay = function (options) {\n    this.message = options.message;\n    this.fontSize = options.fontSize;\n    this.alpha = 1;\n    this.yPosMod = 0;\n};\n\nTextOverlay.prototype.draw = function(context, xPos, yPos) {\n  context.beginPath();\n  context.fillStyle = \"white\";\n  context.globalAlpha = this.alpha;\n  context.font = \"italic \"+this.fontSize+\"pt Arial \";\n  context.globalCompositeOperation = 'overlay';\n  context.fillText(this.message, xPos, yPos + this.yPosMod);\n  context.globalCompositeOperation = 'source-over';\n  this.update();\n  context.globalAlpha = 1;\n};\n\nTextOverlay.prototype.update = function () {\n  if (this.alpha > 0) {\n    this.alpha -= 0.005;\n  }\n  this.yPosMod += 1;\n};\n\nmodule.exports = TextOverlay;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/objects/textOverlay.js\n ** module id = 9\n ** module chunks = 0\n **/"],"sourceRoot":""}