{"version":3,"sources":["webpack:///webpack/bootstrap 1bac930809c877e060b5","webpack:///./lib/cordycepsGame.js","webpack:///./lib/player.js","webpack:///./lib/camera.js","webpack:///./lib/game.js","webpack:///./lib/gameView.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvDA;AACA,gBAAe;AACf,gBAAe;AACf,gBAAe;AACf;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7CA;AACA,gBAAe,cAAc;AAC7B,gBAAe,cAAc;AAC7B,gBAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA,+BAA8B;AAC9B;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC1EA;AACA;;AAEA;AACA;AACA,mFAAkF;AAClF;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,+CAA8C,aAAa;AAC3D,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,4BAA2B,kBAAkB,EAAE;AAC/C,OAAM;;AAEN;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,eAAc,uBAAuB;AACrC,eAAc,uBAAuB;AACrC,eAAc;AACd,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1bac930809c877e060b5\n **/","var Game = require(\"./game\");\nvar GameView = require(\"./gameView\");\n// var Player = require('./player.js');\n// var Camera = require('./camera.js');\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  var canvas = document.getElementById(\"canvas\");\n  var context = canvas.getContext('2d');\n\n  // var player = new Player(context);\n  // var camera = new Camera(document.body.clientHeight, document.body.clientWidth);\n\n  // starting to render\n  canvas.width = document.body.clientWidth;\n  canvas.height = document.body.clientHeight;\n\n  var game = new Game(context);\n  new GameView(game, context).start();\n\n  // // start everything and handle stopping\n  // anim = requestAnimationFrame(update);\n  // document.addEventListener(\"keydown\", function(ev) {\n  //   if (ev.keyCode === 27) {\n  //     cancelAnimationFrame(anim);\n  //   }\n  // });\n});\n\n//\n//   // check inputs\n//   // up - w\n//   if (inputs[87]) {\n//     player.acel.y = -6;\n//   }\n//\n//   // down - s\n//   else if (inputs[83]) {\n//     player.acel.y = 6;\n//   }\n//\n//   // left - a\n//   if (inputs[65]) {\n//     player.acel.x = -6;\n//   }\n//\n//   // right - d\n//   else if (inputs[68]) {\n//     player.acel.x = 6;\n//   }\n//\n//   // shift - screen shake\n//   if (inputs[16]) {\n//     camera.strength = 90;\n//     camera.damper = 5;\n//   }\n//\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/cordycepsGame.js\n ** module id = 0\n ** module chunks = 0\n **/","var Player = function (context) {\n  this.cpos = { x: 0, y: 0 };\n  this.ppos = { x: 0, y: 0 };\n  this.acel = { x: 0, y: 0 };\n  this.context = context;\n};\n\nPlayer.prototype.render = function (xPos, yPos) {\n  this.context.beginPath();\n  this.context.fillStyle = \"white\";\n  this.context.fillRect(xPos, yPos, 10, 10);\n};\n\nPlayer.prototype.impulse = function (axis, direction) {\n  if (direction === 'pos') {\n    direction = 1;\n  } else {\n    direction = -1;\n  }\n\n  if (axis === 'x') {\n    this.acel.x = direction * 6;\n  } else {\n    this.acel.y = direction * 6;\n  }\n};\n\nPlayer.prototype.move = function () {\n  // player drag\n  this.ppos.x = this.cpos.x + (this.ppos.x - this.cpos.x) * 0.93;\n  this.ppos.y = this.cpos.y + (this.ppos.y - this.cpos.y) * 0.93;\n\n  // player verlet\n  this.cpos.x += this.acel.x * 0.256;\n  this.cpos.y += this.acel.y * 0.256;\n  var px = 2 * this.cpos.x - this.ppos.x;\n  var py = 2 * this.cpos.y - this.ppos.y;\n  this.ppos.x = this.cpos.x;\n  this.ppos.y = this.cpos.y;\n  this.cpos.x = px;\n  this.cpos.y = py;\n  this.acel.x = 0;\n  this.acel.y = 0;\n};\n\nmodule.exports = Player;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/player.js\n ** module id = 1\n ** module chunks = 0\n **/","var Camera = function (height, width) {\n  this.cpos = { x: 0, y: 0 }; // top left corner of camera object\n  this.ppos = { x: 0, y: 0 }; // location of player object\n  this.acel = { x: 0, y: 0 }; // acceleration of camera object\n  this.height = height;\n  this.width  = width;\n  this.maxHeight = 6 * height;\n  this.maxWidth = 6 * width;\n  this.cullDistX = [0, width];  // \"cull\" distance. or, objects this far away from cam not rendered\n  this.cullDistY = [0, height];\n  this.bound = true;\n  this.target = { x: 0, y: 0 };\n  this.strength = 0;\n  this.damper = 0;\n};\n\nCamera.prototype.squashCamera = function() {\n  this.height -= 10;\n  this.cullDistY[0] += 10;\n  this.cullDistY[1] -= 10;\n};\n\nCamera.prototype.screenShake = function() {\n  this.strength = 90;\n  this.damper = 5;\n};\n\nCamera.prototype.move = function (playerCPosX, playerCPosY) {\n  // get the target point\n  this.target.x = playerCPosX - (this.width / 2);\n  this.target.y = playerCPosY - (this.height / 2);\n\n  // move this towards target point\n  this.acel.x += (1 / 8) * (this.target.x - this.cpos.x);\n  this.acel.y += (1 / 8) * (this.target.y - this.cpos.y);\n\n  // camera shake update\n  if (this.strength > 0) {\n    var randx = Math.random() * 2 * this.strength - this.strength;\n    var randy = Math.random() * 2 * this.strength - this.strength;\n    this.acel.x += randx;\n    this.acel.y += randy;\n    this.strength -= this.damper;\n  }\n\n  // camera drag\n  this.ppos.x = this.cpos.x + (this.ppos.x - this.cpos.x) * 0.3;\n  this.ppos.y = this.cpos.y + (this.ppos.y - this.cpos.y) * 0.3;\n\n  // camera verlet\n  this.cpos.x += this.acel.x * 0.256;\n  this.cpos.y += this.acel.y * 0.256;\n  var cx = 2 * this.cpos.x - this.ppos.x;\n  var cy = 2 * this.cpos.y - this.ppos.y;\n  this.ppos.x = this.cpos.x;\n  this.ppos.y = this.cpos.y;\n  this.cpos.x = cx;\n  this.cpos.y = cy;\n  this.acel.x = 0;\n  this.acel.y = 0;\n\n  // bind camera to world edges\n  if (this.bound) {\n\n    // flush camera -- x bounds\n    this.cpos.x = Math.min(this.cpos.x, this.maxWidth - this.width);\n    this.cpos.x = Math.max(this.cpos.x, 0);\n\n    // flush camera -- y bounds\n    this.cpos.y = Math.min(this.cpos.y, this.maxHeight - this.height);\n    this.cpos.y = Math.max(this.cpos.y, 0);\n  }\n};\n\nmodule.exports = Camera;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/camera.js\n ** module id = 2\n ** module chunks = 0\n **/","var Player = require('./player.js');\nvar Camera = require('./camera.js');\n\nvar Game = function (context) {\n  this.context = context;\n  this.camera = new Camera(document.body.clientHeight, document.body.clientWidth); //replace these values\n  this.player = new Player(context);\n};\n\nmodule.exports = Game;\n\n// Game.BG_COLOR = \"#000000\";\n// Game.DIM_X = 1000;\n// Game.DIM_Y = 600;\n// Game.FPS = 32;\n//\n// Game.prototype.allObjects = function () {\n//   return [].concat([] /* types of objects go here maybe */);\n// };\n//\n// Game.prototype.checkCollisions = function () {\n// };\n//\n// Game.prototype.draw = function (context) {\n//   context.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n//   context.fillStyle = Game.BG_COLOR;\n//   context.fillRect(0, 0, Game.DIM_X, Game.DIM_Y);\n//\n//   // this.allObjects().forEach(function (object) {\n//   //   object.draw(context);\n//   // });\n// };\n//\n// Game.prototype.isOutOfBounds = function (pos) {\n//   return (pos[0] < 0) || (pos[1] < 0) ||\n//     (pos[0] > Game.DIM_X) || (pos[1] > Game.DIM_Y);\n// };\n//\n// Game.prototype.moveObjects = function (delta) {\n//   this.allObjects().forEach(function (object) {\n//     object.move(delta);\n//   });\n// };\n//\n// Game.prototype.randomPosition = function () {\n//   return [\n//     Game.DIM_X * Math.random(),\n//     Game.DIM_Y * Math.random()\n//   ];\n// };\n//\n// Game.prototype.remove = function (object) {\n//   // if (object instanceof Bullet) {\n//   //   this.bullets.splice(this.bullets.indexOf(object), 1);\n//   // } else if (object instanceof Asteroid) {\n//   //   var idx = this.asteroids.indexOf(object);\n//   //   this.asteroids[idx] = new Asteroid({ game: this });\n//   // } else if (object instanceof Ship) {\n//   //   this.ships.splice(this.ships.indexOf(object), 1);\n//   // } else {\n//   //   throw \"wtf?\";\n//   // }\n// };\n//\n// Game.prototype.step = function (delta) {\n//   this.moveObjects(delta);\n//   this.checkCollisions();\n// };\n//\n// Game.prototype.screenShake = function () {\n//   console.log(\"its fuckin on now lads\");\n// };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game.js\n ** module id = 3\n ** module chunks = 0\n **/","var GameView = function (game, context) {\n  this.context = context;\n  this.game = game;\n  this.entities = [];\n\n  this.initiateEntities();\n};\n\nGameView.prototype.bindKeyHandlers = function () {\n\n  // Object.keys(GameView.MOVES).forEach(function (k) {\n  //   var move = GameView.MOVES[k];\n  //   key(k, function () { ship.power(move); });\n  // });\n\n  // move up\n  key(\"w\", function () {\n    this.game.player.impulse('y', 'neg');\n  }.bind(this));\n\n  // move left\n  key(\"a\", function () {\n    this.game.player.impulse('x', 'neg');\n  }.bind(this));\n\n  // move right\n  key(\"d\", function () {\n    this.game.player.impulse('x', 'pos');\n  }.bind(this));\n\n  // move down\n  key(\"s\", function () {\n    // debugger;\n    this.game.player.impulse('y', 'pos');\n  }.bind(this));\n\n  // screenshake\n  key(\"h\", function () {\n    this.game.camera.screenShake();\n  }.bind(this));\n\n  // squash camera\n  key(\"space\", function () {\n    this.game.camera.squashCamera();\n  }.bind(this));\n};\n\nGameView.prototype.start = function () {\n  this.bindKeyHandlers();\n  // debugger;\n  //start the animation\n  requestAnimationFrame(this.animate.bind(this));\n};\n\nGameView.prototype.animate = function() {\n  this.clearBlack();\n\n  this.game.camera.move(this.game.player.cpos.x, this.game.player.cpos.y);\n  this.game.player.move();\n\n  // draw this.game.player with corrected positions\n  var playerX = this.game.player.cpos.x - this.game.camera.cpos.x;\n  var playerY = this.game.player.cpos.y - this.game.camera.cpos.y;\n  this.game.player.render(playerX, playerY);\n\n  // draw entities with corrected positions\n  for (var i = 0; i < this.entities.length; i++) {\n    var entity = this.entities[i];\n    var entityX = entity.cpos.x - this.game.camera.cpos.x;\n    var entityY = entity.cpos.y - this.game.camera.cpos.y;\n    if ((entityX >= this.game.camera.cullDistX[0] && entityX <= this.game.camera.cullDistX[1]) &&\n        (entityY >= this.game.camera.cullDistY[0] && entityY <= this.game.camera.cullDistY[1]) ) {\n      this.context.beginPath();\n      this.context.fillStyle=\"gold\";\n      this.context.arc(entityX,entityY, 10, 0, 2*Math.PI, false);\n      this.context.fill();\n    }\n  }\n\n  //every call to animate requests causes another call to animate\n  requestAnimationFrame(this.animate.bind(this));\n};\n\nGameView.prototype.initiateEntities = function () {\n  for (var i = 0; i < 200; i++) {\n    var randx = Math.random() * 6 * document.body.clientWidth;\n    var randy = Math.random() * 6 * document.body.clientHeight;\n    this.entities.push({\n      cpos : { x : randx, y : randy },\n      ppos : { x : randx, y : randy },\n      acel : { x: 0, y : 0 }\n    });\n  }\n};\n\nGameView.prototype.clearBlack = function () {\n  var canvas = document.getElementById(\"canvas\");\n  var context = this.context;\n  var camera = this.game.camera;\n\n  context.beginPath();\n  if (camera.height < canvas.height) {\n    context.fillStyle = \"white\";\n    context.fillRect(0, 0, canvas.width, canvas.height - camera.height);\n    context.fillStyle = \"black\";\n    context.fillRect(0, canvas.height - camera.height, canvas.width, camera.height);\n    context.fillStyle = \"white\";\n    context.fillRect(0, camera.height, canvas.width, window.innerHeight);\n  } else {\n    context.fillStyle = \"black\";\n    context.fillRect(0, 0, canvas.width, canvas.height);\n  }\n};\n\nmodule.exports = GameView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/gameView.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}